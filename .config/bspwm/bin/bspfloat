#!/usr/bin/env bash


###########################################################################################################
#																										 
#    Copyright © 2023 To R																	
#																										 
#	 ██╗ ██╗      ██████╗  ██████╗ ██╗  ██╗██╗  ██╗██████╗ 
#	████████╗    ██╔═████╗██╔═████╗╚██╗██╔╝╚██╗██╔╝██╔══██╗
#	╚██╔═██╔╝    ██║██╔██║██║██╔██║ ╚███╔╝  ╚███╔╝ ██████╔╝
#	████████╗    ████╔╝██║████╔╝██║ ██╔██╗  ██╔██╗ ██╔══██╗
#	╚██╔═██╔╝    ╚██████╔╝╚██████╔╝██╔╝ ██╗██╔╝ ██╗██║  ██║
#	 ╚═╝ ╚═╝      ╚═════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝
#																										 																									 
#    Copyright (C) Reza Khodarahimi (00xxR)  <https://github.com/00xxR>								 
#    LICENSE © tRue-???????
#
#	  ______               __ __          __      ______   __     __                ______                                
#	 /      \             |  \  \        |  \    |      \ |  \   |  \              /      \                               
#	|  ▓▓▓▓▓▓\______ ____  \▓▓ ▓▓ ______ | ▓▓     \▓▓▓▓▓▓_| ▓▓_  | ▓▓ _______     |  ▓▓▓▓▓▓\ ______   ______   ______     
#	| ▓▓___\▓▓      \    \|  \ ▓▓/      \| ▓▓      | ▓▓ |   ▓▓ \  \▓ /       \    | ▓▓_  \▓▓/      \ /      \ /      \    
#	 \▓▓    \| ▓▓▓▓▓▓\▓▓▓▓\ ▓▓ ▓▓  ▓▓▓▓▓▓\ ▓▓      | ▓▓  \▓▓▓▓▓▓    |  ▓▓▓▓▓▓▓    | ▓▓ \   |  ▓▓▓▓▓▓\  ▓▓▓▓▓▓\  ▓▓▓▓▓▓\   
#	 _\▓▓▓▓▓▓\ ▓▓ | ▓▓ | ▓▓ ▓▓ ▓▓ ▓▓    ▓▓\▓▓      | ▓▓   | ▓▓ __    \▓▓    \     | ▓▓▓▓   | ▓▓   \▓▓ ▓▓    ▓▓ ▓▓    ▓▓   
#	|  \__| ▓▓ ▓▓ | ▓▓ | ▓▓ ▓▓ ▓▓ ▓▓▓▓▓▓▓▓__      _| ▓▓_  | ▓▓|  \   _\▓▓▓▓▓▓\    | ▓▓     | ▓▓     | ▓▓▓▓▓▓▓▓ ▓▓▓▓▓▓▓▓__ 
#	 \▓▓    ▓▓ ▓▓ | ▓▓ | ▓▓ ▓▓ ▓▓\▓▓     \  \    |   ▓▓ \  \▓▓  ▓▓  |       ▓▓    | ▓▓     | ▓▓      \▓▓     \\▓▓     \  \
#	  \▓▓▓▓▓▓ \▓▓  \▓▓  \▓▓\▓▓\▓▓ \▓▓▓▓▓▓▓\▓▓     \▓▓▓▓▓▓   \▓▓▓▓    \▓▓▓▓▓▓▓      \▓▓      \▓▓       \▓▓▓▓▓▓▓ \▓▓▓▓▓▓▓\▓▓
#                                                                                                                      
#                                                                                                                                                                                                                        						
######################################################################################################################################



## All windows are floating on desktop 8
FLOATING_DESKTOP_ID=$(bspc query -D -d '^8')

bspc subscribe node_add | while read -a msg ; do
   desk_id=${msg[2]}
   wid=${msg[4]}
   [ "$FLOATING_DESKTOP_ID" = "$desk_id" ] && bspc node "$wid" -t floating
done
